<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Webpack | 前端知识图谱</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="icon" href="/vuepress-test/a.jpg">
    <meta name="description" content="">
    <link rel="preload" href="/vuepress-test/assets/css/0.styles.3a07e25f.css" as="style"><link rel="preload" href="/vuepress-test/assets/js/app.a9af0fa8.js" as="script"><link rel="preload" href="/vuepress-test/assets/js/2.f1d8a5fb.js" as="script"><link rel="preload" href="/vuepress-test/assets/js/12.c4bf0acf.js" as="script"><link rel="prefetch" href="/vuepress-test/assets/js/10.4c45adf6.js"><link rel="prefetch" href="/vuepress-test/assets/js/11.c08eee5b.js"><link rel="prefetch" href="/vuepress-test/assets/js/13.91b14ed5.js"><link rel="prefetch" href="/vuepress-test/assets/js/14.b4fced57.js"><link rel="prefetch" href="/vuepress-test/assets/js/15.8d5cbeb0.js"><link rel="prefetch" href="/vuepress-test/assets/js/16.e9588432.js"><link rel="prefetch" href="/vuepress-test/assets/js/17.7217ca64.js"><link rel="prefetch" href="/vuepress-test/assets/js/18.91581d45.js"><link rel="prefetch" href="/vuepress-test/assets/js/3.e69ec39e.js"><link rel="prefetch" href="/vuepress-test/assets/js/4.22a09208.js"><link rel="prefetch" href="/vuepress-test/assets/js/5.37e26158.js"><link rel="prefetch" href="/vuepress-test/assets/js/6.3bcb7bf4.js"><link rel="prefetch" href="/vuepress-test/assets/js/7.284c6193.js"><link rel="prefetch" href="/vuepress-test/assets/js/8.d33bf6d7.js"><link rel="prefetch" href="/vuepress-test/assets/js/9.ad2abf9c.js">
    <link rel="stylesheet" href="/vuepress-test/assets/css/0.styles.3a07e25f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vuepress-test/" class="home-link router-link-active"><img src="/vuepress-test/a.jpg" alt="前端知识图谱" class="logo"> <span class="site-name can-hide">前端知识图谱</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vuepress-test/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="https://github.com/shanfeng606" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="http://www.shanfeng606.work" target="_blank" rel="noopener noreferrer" class="nav-link external">
  主博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/vuepress-test/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="https://github.com/shanfeng606" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="http://www.shanfeng606.work" target="_blank" rel="noopener noreferrer" class="nav-link external">
  主博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/vuepress-test/front/HTML.html" class="sidebar-link">HTML</a></li><li><a href="/vuepress-test/front/CSS.html" class="sidebar-link">CSS</a></li><li><a href="/vuepress-test/front/原生JS.html" class="sidebar-link">原生JS</a></li><li><a href="/vuepress-test/front/DOM.html" class="sidebar-link">DOM</a></li><li><a href="/vuepress-test/front/HTTP+浏览器.html" class="sidebar-link">HTTP/浏览器</a></li><li><a href="/vuepress-test/front/Vue.html" class="sidebar-link">Vue</a></li><li><a href="/vuepress-test/front/Webpack.html" aria-current="page" class="active sidebar-link">Webpack</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepress-test/front/Webpack.html#webpack" class="sidebar-link">Webpack</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepress-test/front/Webpack.html#webpack介绍一下" class="sidebar-link">Webpack介绍一下</a></li><li class="sidebar-sub-header"><a href="/vuepress-test/front/Webpack.html#前端模块化的了解" class="sidebar-link">前端模块化的了解</a></li><li class="sidebar-sub-header"><a href="/vuepress-test/front/Webpack.html#commonjs模块与es6模块的区别" class="sidebar-link">CommonJS模块与ES6模块的区别</a></li><li class="sidebar-sub-header"><a href="/vuepress-test/front/Webpack.html#amd与cmd" class="sidebar-link">AMD与CMD</a></li><li class="sidebar-sub-header"><a href="/vuepress-test/front/Webpack.html#有哪些常见的loader-他们是解决什么问题的？" class="sidebar-link">有哪些常见的Loader?他们是解决什么问题的？</a></li><li class="sidebar-sub-header"><a href="/vuepress-test/front/Webpack.html#有哪些常见的plugin？他们是解决什么问题的？" class="sidebar-link">有哪些常见的Plugin？他们是解决什么问题的？</a></li><li class="sidebar-sub-header"><a href="/vuepress-test/front/Webpack.html#loader和plugin的不同？" class="sidebar-link">Loader和Plugin的不同？</a></li></ul></li></ul></li><li><a href="/vuepress-test/front/安全.html" class="sidebar-link">安全</a></li><li><a href="/vuepress-test/front/编程题.html" class="sidebar-link">编程题</a></li><li><a href="/vuepress-test/front/手写题.html" class="sidebar-link">手写题</a></li><li><a href="/vuepress-test/front/算法.html" class="sidebar-link">算法母题</a></li><li><a href="/vuepress-test/front/其他.html" class="sidebar-link">其他</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="webpack"><a href="#webpack" class="header-anchor">#</a> Webpack</h2> <h3 id="webpack介绍一下"><a href="#webpack介绍一下" class="header-anchor">#</a> Webpack介绍一下</h3> <p>webpack是一个<strong>模块打包器</strong>（module bundler），webpack视HTML，JS，CSS，图片等文件都是一种 <strong>资源</strong> ，每个资源文件都是一个模块（module）文件，webpack就是根据每个模块文件之间的依赖关系将所有的模块打包（bundle）起来。</p> <p><strong>webpack的构建流程</strong></p> <ol><li>初始化：启动构建，读取与合并配置参数，加载 Plugin，实例化 编译器Compiler。</li> <li>编译：从 入口Entry 发出，针对每个模块Module 串行调用对应的 Loader 去翻译文件内容，再找到该 Module 依赖的 Module，递归地进行编译处理。</li> <li>输出：对编译后的 模块（Module） 组合成 代码块（Chunk），把 Chunk 转换成文件，输出到文件系统。</li></ol> <p>Webpack在启动后，会从Entry开始，递归解析Entry依赖的所有Module，每找到一个Module，就会根据Module.rules里配置的Loader规则进行相应的转换处理，对Module进行转换后，再解析出当前Module依赖的Module，这些Module会以Entry为单位进行分组，即为一个Chunk。**因此一个Chunk，就是一个Entry及其所有依赖的Module合并的结果。**最后Webpack会将所有的Chunk转换成文件输出Output。在整个构建流程中，Webpack会在恰当的时机执行Plugin里定义的逻辑，从而完成Plugin插件的优化任务。</p> <p>https://juejin.im/entry/6844903614469636103</p> <p><strong>作用</strong></p> <ul><li>对 CommonJS 、 AMD 、ES6的语法做了兼容</li> <li>对js、css、图片等资源文件都支持打包（适合团队化开发）</li> <li>比方你写一个js文件，另外一个人也写一个js文件，需要合并很麻烦，现在交给webpack合并很简单</li> <li>有独立的配置文件webpack.config.js</li> <li>可以将代码切割成不同的chunk，实现按需加载，降低了初始化时间</li> <li>具有强大的Plugin（插件）接口，大多是内部插件，使用起来比较灵活</li> <li>……</li></ul> <h3 id="前端模块化的了解"><a href="#前端模块化的了解" class="header-anchor">#</a> 前端模块化的了解</h3> <h4 id="什么是模块化"><a href="#什么是模块化" class="header-anchor">#</a> 什么是模块化</h4> <ul><li>将一个复杂的程序依据一定的规则(规范)封装成几个块(文件), 并进行组合在一起</li> <li>块的内部数据与实现是私有的, 只是向外部暴露一些接口(方法)与外部其它模块通信</li></ul> <h4 id="模块化的好处"><a href="#模块化的好处" class="header-anchor">#</a> 模块化的好处</h4> <ul><li>避免命名冲突(减少命名空间污染)</li> <li>更好的分离, 按需加载</li> <li>更高复用性</li> <li>高可维护性</li></ul> <p>我们需要重点掌握的是<strong>ES6</strong>和<strong>CommonJS</strong>，AMD与CMD只需了解，现在我们实际开发中已经基本不会用到了。</p> <h4 id="commonjs"><a href="#commonjs" class="header-anchor">#</a> commonjs</h4> <p><strong>CommonJS是服务器端的js模块化规范，由NodeJS实现。</strong></p> <blockquote><p>通过module.exports导出模块</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token function-variable function">addX</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> value <span class="token operator">+</span> x<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>addX <span class="token operator">=</span> addX<span class="token punctuation">;</span>
 
<span class="token comment">//同时导出多个</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  x<span class="token punctuation">,</span>
  addX
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>通过require导入模块</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> example <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./example.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>example<span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>example<span class="token punctuation">.</span><span class="token function">addX</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 6</span>
</code></pre></div><h4 id="es6模块化"><a href="#es6模块化" class="header-anchor">#</a> <strong>ES6模块化</strong></h4> <p>ES6推出了自己的模块化规范，使用export和import来进行导出和导入。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> firstName <span class="token operator">=</span> <span class="token string">'Michael'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> lastName <span class="token operator">=</span> <span class="token string">'Jackson'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> year <span class="token operator">=</span> <span class="token number">1958</span><span class="token punctuation">;</span>
 
<span class="token keyword">export</span> <span class="token punctuation">{</span>firstName<span class="token punctuation">,</span> lastName<span class="token punctuation">,</span> year<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>firstName<span class="token punctuation">,</span> lastName<span class="token punctuation">,</span> year<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./profile.js'</span><span class="token punctuation">;</span>
</code></pre></div><p>补充</p> <p><code>export default</code>命令用于指定模块的默认输出。显然，一个模块只能有一个默认输出，因此<code>export default</code>命令只能使用一次。所以，import命令后面才不用加大括号，因为只可能唯一对应<code>export default</code>命令。</p> <h3 id="commonjs模块与es6模块的区别"><a href="#commonjs模块与es6模块的区别" class="header-anchor">#</a> CommonJS模块与ES6模块的区别</h3> <ul><li><strong><code>CommonJS</code> 模块输出的是一个值的拷贝，ES6 模块输出的是值的引用。</strong></li></ul> <p><code>CommonJS</code>输出的值的拷贝，第一次加载模块时会缓存该模块，并且加载该模块时，即使改变输入的值，也不会对原模块内部的变量造成影响。而ES6 模块输出的是值的引用，引入该模块修改输入的变量时，会对原模块内部的变量有影响！</p> <ul><li><strong>ES6模块化导入是异步导入，CommonJS导入是同步导入。</strong></li></ul> <ul><li><strong><code>CommonJS</code> 模块是运行时加载，<code>ES6</code> 模块是编译时输出接口。</strong></li></ul> <p><code>CommonJS</code> 模块是运行时加载，只有执行到<code>require</code>时才会加载该模块，而<code>import</code>引入<code>ES6</code> 模块是在编译阶段执行，在代码执行之前就已经拿到输入变量。</p> <p>当使用require命令加载同一个模块时，不会再执行该模块，而是取到缓存之中的值。</p> <p>https://www.cnblogs.com/unclekeith/archive/2017/10/17/7679503.html</p> <h3 id="amd与cmd"><a href="#amd与cmd" class="header-anchor">#</a> AMD与CMD</h3> <ul><li>AMD是 RequireJS 在推广过程中对模块定义的规范化产出。</li> <li>CMD是 SeaJS 在推广过程中对模块定义的规范化产出。</li> <li>CMD推崇<strong>依赖就近</strong>，AMD推崇<strong>依赖前置</strong>。</li></ul> <p><strong>AMD</strong>在加载模块完成后就会执行模块，所有模块都加载执行完后会进入require的回调函数，执行主逻辑，依赖模块的执行顺序和书写顺序不一定一致</p> <p><strong>CMD</strong>加载完某个依赖模块后并不执行，只是下载而已，在所有依赖模块加载完成后进入主逻辑，遇到require语句的时候才执行对应的模块，这样模块的执行顺序和书写顺序是完全一致的</p> <h3 id="有哪些常见的loader-他们是解决什么问题的？"><a href="#有哪些常见的loader-他们是解决什么问题的？" class="header-anchor">#</a> 有哪些常见的Loader?他们是解决什么问题的？</h3> <ul><li><strong>file-loader</strong>：把文件输出到一个文件夹中，在代码中通过相对 URL 去引用输出的文件</li> <li><strong>url-loader</strong>：和 file-loader 类似，但是能在文件很小的情况下以 base64 的方式把文件内容注入到代码中去</li> <li><strong>css-loader</strong>：加载 CSS，支持模块化、压缩、文件导入等特性</li> <li><strong>sass-loader</strong></li> <li><strong>style-loader</strong>：把 CSS 代码注入到 JavaScript 中，通过 DOM 操作去加载 CSS。</li> <li><strong>image-loader</strong>：加载并且压缩图片文件</li> <li><strong>babel-loader</strong>：把 ES6 转换成 ES5</li> <li><strong>eslint-loader</strong>：通过 ESLint 检查 JavaScript 代码</li></ul> <h3 id="有哪些常见的plugin？他们是解决什么问题的？"><a href="#有哪些常见的plugin？他们是解决什么问题的？" class="header-anchor">#</a> 有哪些常见的Plugin？他们是解决什么问题的？</h3> <ul><li><strong>html-webpack-plugin</strong>：简单创建HTML文件，用于服务器访问</li> <li><strong>define-plugin</strong>：定义环境变量</li> <li><strong>commons-chunk-plugin</strong>：提取公共代码</li> <li><strong>uglifyjs-webpack-plugin</strong>：通过<code>UglifyES</code>压缩<code>ES6</code>代码</li></ul> <h3 id="loader和plugin的不同？"><a href="#loader和plugin的不同？" class="header-anchor">#</a> Loader和Plugin的不同？</h3> <p>loader译为加载器，主要用于加载资源文件，webpack默认只支持加载js文件，使用loader可以实现css,less等文件的资源转化</p> <p>plugin主要用于拓展webpack的功能，例如打包压缩，定义环境变量等功能</p> <p><strong>不同的作用</strong></p> <ul><li><strong>Loader</strong>直译为&quot;加载器&quot;。Webpack将一切文件视为模块，但是webpack原生是只能解析js文件，如果想将其他文件也打包的话，就会用到<code>loader</code>。 所以Loader的作用是<strong>让webpack拥有了加载和解析<em>非JavaScript文件</em>的能力</strong>。</li> <li><strong>Plugin</strong>直译为&quot;插件&quot;。Plugin可以<strong>扩展webpack的功能</strong>，让webpack具有更多的灵活性。 在 Webpack 运行的生命周期中会广播出许多事件，Plugin 可以监听这些事件，在合适的时机通过 Webpack 提供的 API 改变输出结果。</li></ul> <p><strong>不同的用法</strong></p> <ul><li><strong>Loader</strong>在<code>module.rules</code>中配置，也就是说他作为模块的解析规则而存在。 类型为数组，每一项都是一个<code>Object</code>，里面描述了对于什么类型的文件（<code>test</code>），使用什么加载(<code>loader</code>)和使用的参数（<code>options</code>）</li> <li><strong>Plugin</strong>在<code>plugins</code>中单独配置。 类型为数组，每一项是一个<code>plugin</code>的实例，参数都通过构造函数传入。</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/vuepress-test/front/Vue.html" class="prev">
        Vue
      </a></span> <span class="next"><a href="/vuepress-test/front/安全.html">
        安全
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/vuepress-test/assets/js/app.a9af0fa8.js" defer></script><script src="/vuepress-test/assets/js/2.f1d8a5fb.js" defer></script><script src="/vuepress-test/assets/js/12.c4bf0acf.js" defer></script>
  </body>
</html>
